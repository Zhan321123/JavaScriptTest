<!doctype html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="shortcut icon" href="./logo.png" type="image/x-icon">
  <title>定风波</title>
  <link href="lib/bootstrap5.3.0.css" rel="stylesheet">
  <!--  <link rel="stylesheet" href="/lib/study.css">-->
  <link rel="stylesheet" href="/lib/origin.css">
  <script src="/lib/icon.js"></script>
  <style>
    .table th,
    .table td {
      vertical-align: middle;
      text-align: center;
    }

    img {
      width: 100%;
      height: auto;
    }

    .form-control::file-selector-button {
      background-color: #007BFF;
      color: white;
      border: none;
      padding: 0.375rem 0.75rem;
      border-radius: 0.25rem;
    }

    .centered-progress {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 50%;
      height: 20px;
      z-index: 1050;
      display: none;
    }

    .input-group-text {
      color: white;
      background-color: #007BFF;
    }

    .tooltip-inner {
      white-space: normal; /* 允许提示框内容换行 */
      background-color: var(--bs-primary-bg-subtle);
      max-width: 800px;
      border: 1px solid var(--bs-primary);
      padding: 1em;
    }
    .table{
      --bs-table-bg: rgba(255, 255, 255, 0.53);
    }

  </style>
</head>
<body data-bs-theme="light">

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="Equation1" viewBox="0 0 118 94">

  </symbol>


</svg>

<!--进度条-->
<div id="progressBarContainer" class="centered-progress progress border" style="display: none">
  <div id="progressBar" class="progress-bar bg-success progress-bar-striped progress-bar-animated" role="progressbar"
       aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0;">0%
  </div>
</div>


<img src="back2.png" alt="" class="position-fixed w-100" style="z-index: -1000;">
<!--完整布局-->
<div class="row w-100">

  <!--侧边栏-->
  <div class="d-flex flex-column flex-shrink-0 p-4 overflow-auto vh-100 position-fixed col-md-2"
       style="color: black;background-color: rgba(255,255,255,0.53)">
    <!--侧边栏标题-->
    <a href="" class="d-flex align-items-center mb-3 mb-md-0 mb-md-0 me-md-auto text-decoration-none text-dark">
      <img src="logo.png" alt="" style="width: 48px;">
      <span class="fs-4 ms-4">定风波</span>
    </a>

    <hr>
    <!--    侧边栏项目-->
    <ul class="nav nav-pills flex-column mb-auto nav-pills" id="navbar">
      <li class="nav-item">
        <a href="#introduce" class="nav-link text-dark active" aria-current="page">
          <span icon="houseHeart"></span><span class="ms-2">项目介绍</span></a>
      </li>
      <li class="nav-item">
        <a href="#function" class="nav-link text-dark" aria-current="page">
          <span icon="barChart"></span><span class="ms-2">智能优化算法检验</span></a>
      </li>
      <li class="nav-item">
        <a href="#model" class="nav-link text-dark" aria-current="page">
          <span icon="plane"></span><span class="ms-2">数据填补模型对比</span></a>
      </li>
      <li class="nav-item">
        <a href="#fill" class="nav-link text-dark" aria-current="page">
          <span icon="heading"></span>
          <span class="ms-2">新型填补方法应用</span>
        </a>
      </li>
      <li class="nav-item">
        <a href="#foot" class="nav-link text-dark" aria-current="page">
          <span icon="note"></span>
          <span class="ms-2">版权说明</span>
        </a>
      </li>
    </ul>

    <hr>
    <!-- 侧边栏底部-->
    <div class="dropdown ">
      <a href="" class="d-flex align-items-center text-dark text-decoration-none dropdown-toggle">
        <img src="./images/user.png" alt="" class="rounded-circle me-2 p-1"
             style="width: 48px;border: 2px solid rgb(204,145,47);">
        <span icon="phone" wh="20px"></span>
        <div class="ms-2 me-2">
          <strong style="font-size: 20px">丘壑</strong>
        </div>
      </a>
    </div>

  </div>

  <!--空盒子抵消navbar的position-fixed-->
  <div class="col-md-2"></div>

  <!--内容-->
  <div class="d-flex flex-column col-md-10">

    <!--章节-->
    <div id="introduce" class="section mb-3">
      <br><br><br><br><br><br><br><br>
      <a href="#introduce" class="text-decoration-none">
        <div class="h2 mt-3 text-center">项目介绍</div>
      </a>
      <div class="rounded-2 p-3 border border-primary mx-5">
        <p class="lh-lg mb-3 h5">
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          本项目针对水文气象数据填补中缺失场景复杂、模型效率低、工程应用适配性差等难题，构建“模型研发—测试验证—工程落地”的全链条技术体系。
        </p>
        <p class="lh-lg mb-3 h5">
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          首先，基于实际业务需求，将缺失类型划分为完全随机缺失（MCR）、随机缺失（MR）和非随机缺失（MNR）三类，结合1%-30%的五种缺失率构建精细化场景框架。设计能量谷优化算法（EVO），通过动态能量平衡机制提升模型训练效率。融合前馈神经网络（BPNN）、随机森林（RF）、支持向量机回归（SVR）、长短时记忆网络（LSTM）四种基础模型，构建新型多元线性回归（MLR）集成模型，实现权重分配与高缺失率场景下的稳定填补。
        </p>
        <p class="lh-lg mb-3 h5">
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          其次，选取椒江流域历史数据生成多场景测试集，结合皮尔逊相关系数（PCC）、纳什效率系数（NSE）、百分比偏差（Pbias）指标量化模型精度，并通过浙江省气象中心的业务系统验证其对洪水预报、台风预警的支撑能力。
        </p>
        <p class="lh-lg mb-3 h5">
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          最后，搭建支持多源异构数据接入的自动化填补系统，开发面向业务场景的可视化交互系统，推动平台在气象、水利等企事业单位投入应用。技术研发、验证测试与工程部署形成闭环，兼顾理论创新与应用适配性，为气象水文数据治理提供可靠解决方案。
        </p>
      </div>
      <hr>

    </div>
    <br><br><br><br><br><br><br>
    <div class="section mb-3" id="function">
      <a href="#function" class="text-decoration-none">
        <div class="text-center h2 mt-3">智能优化算法介绍</div>
      </a>
      <div class="mx-5">
        <table class="table">
          <thead>
          <tr style="border-top: 2px solid #000;">
            <th scope="col">算法名称</th>
            <th scope="col">提出时间</th>
            <th scope="col">主要应用领域</th>
            <th scope="col">算法特点</th>
            <th scope="col">优点</th>
            <th scope="col">缺点</th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <td>星雀优化 <br>(NOA)</td>
            <td>2023</td>
            <td>连续优化、工程优化</td>
            <td>模拟星雀群体觅食时的信息共享与协作</td>
            <td>收敛快，全局搜索强</td>
            <td>高维问题易陷入局部最优</td>
          </tr>
          <tr>
            <td>光谱优化 <br>(LSO)</td>
            <td>2022</td>
            <td>高维优化、信号处理</td>
            <td>通过光谱分布模拟解空间搜索，动态调整范围</td>
            <td>适应高维</td>
            <td>参数敏感，计算复杂</td>
          </tr>
          <tr>
            <td>蜘蛛蜂优化 <br>(SWO)</td>
            <td>2023</td>
            <td>多目标优化、路径规划</td>
            <td>结合蜘蛛个体捕猎策略和蜂群信息交互机制</td>
            <td>多模态优化能力强</td>
            <td>迭代效率较低</td>
          </tr>
          <tr>
            <td>斑马优化 <br>(ZOA)</td>
            <td>2023</td>
            <td>动态优化、资源调度</td>
            <td>模拟斑马群体动态调整迁徙路径的避险行为</td>
            <td>动态适应性强</td>
            <td>静态问题效果一般</td>
          <tr>
            <td>开普勒优化 <br>(KOA)</td>
            <td>2023</td>
            <td>大规模优化、航天设计</td>
            <td>基于行星引力模型，平衡全局探索与局部开发</td>
            <td>适合大规模问题</td>
            <td>参数调节复杂</td>
          </tr>
          <tr>
            <td>淘金优化 <br>(GRO)</td>
            <td>2023</td>
            <td>组合优化、资源分配</td>
            <td>模拟淘金者从随机勘探到集中开采的阶段性策略</td>
            <td>鲁棒性强</td>
            <td>早期收敛风险较高</td>
          </tr>
          <tr class="fw-bolder" style="border-bottom: 2px solid #000;">
            <td>能量谷优化 <br>(EVO)</td>
            <td>2023</td>
            <td>非凸优化、工程优化</td>
            <td>模拟能量场中粒子向低能态迁移的过程进行优化</td>
            <td>收敛快、稳定性高、准确性强</td>
            <td>资源耗费量大</td>
          </tr>
          </tbody>
        </table>
      </div>
      <br><br><br><br><br><br><br><br><br>

      <a href="#test" class="text-decoration-none">
        <div class="h2 text-center mt-3" id="test">智能优化算法检验</div>
      </a>
      <hr>
      <div class="col">
        <div class="row">
          <div class="col col-md-5">
            <div class="ps-3">
              <div class="h3 text-center">方程式</div>
              <div class="btn-group-vertical" role="group" aria-label="Vertical radio toggle button group">
                <input type="radio" class="btn-check" name="btnradio1" id="vbtn-radio1" autocomplete="off">
                <label class="btn btn-outline-primary" for="vbtn-radio1" style="height:70px">
                  <img src="./svgs/equation1.svg" alt="">
                </label>
                <input type="radio" class="btn-check" name="btnradio1" id="vbtn-radio2" autocomplete="off">
                <label class="btn btn-outline-primary" for="vbtn-radio2">
                  <img src="./svgs/equation2.svg" style="height: 60px" alt="">
                </label>
                <input type="radio" class="btn-check" name="btnradio1" id="vbtn-radio3" autocomplete="off">
                <label class="btn btn-outline-primary" for="vbtn-radio3">
                  <img src="./svgs/equation3.svg" style="height: 60px" alt="">
                </label>
                <input type="radio" class="btn-check" name="btnradio1" id="vbtn-radio4" autocomplete="off">
                <label class="btn btn-outline-primary" for="vbtn-radio4">
                  <img src="./svgs/equation4.svg" style="height: 60px" alt="">
                </label>
                <input type="radio" class="btn-check" name="btnradio1" id="vbtn-radio5" autocomplete="off">
                <label class="btn btn-outline-primary" for="vbtn-radio5">
                  <img src="./svgs/equation5.svg" style="height: 60px" alt="">
                </label>
                <input type="radio" class="btn-check" name="btnradio1" id="vbtn-radio6" autocomplete="off">
                <label class="btn btn-outline-primary" for="vbtn-radio6">
                  <img src="./svgs/equation6.svg" style="height: 60px" alt="">
                </label>
                <input type="radio" class="btn-check" name="btnradio1" id="vbtn-radio7" autocomplete="off">
                <label class="btn btn-outline-primary" for="vbtn-radio7">
                  <img src="./svgs/equation7.svg" style="height: 60px" alt="">
                </label>
                <input type="radio" class="btn-check" name="btnradio1" id="vbtn-radio8" autocomplete="off">
                <label class="btn btn-outline-primary" for="vbtn-radio8">
                  <img src="./svgs/equation8.svg" style="height: 60px" alt="">
                </label>
              </div>
            </div>
          </div>

          <div class="col col-md-7">
            <div class="h3 text-center">函数图像</div>
            <img id="funcImage" src="./images/blank.png" alt="" class="border border-primary rounded-2"
                 style="height: 572px">
          </div>
        </div>
        <br><br><br><br><br><br><br><br><br><br>
        <div class="row">
          <a href="#optimal" class="text-decoration-none">
            <div class="h2 text-center mb-1" id="optimal">优化算法</div>
          </a>
          <hr>
          <div class="col col-md-5">
            <div class="ms-3">
              <div class="h3 text-center">优化算法功能</div>
              <div class="d-flex justify-content-around border border-primary rounded-2 align-items-center py-1 mb-3">
                <button type="button" class="btn btn-primary col-md-4" id="calibrateButton">算法效用检验</button>
                <button type="button" class="btn btn-primary col-md-4" id="deviationButton">误差分析</button>
              </div>
              <div class="row mb-3">
                <div class="col-md-6">
                  <div class="h4 text-center">反向传播神经网络 <br>（BPNN）</div>
                  <div class="col border border-primary rounded-2 p-2">
                    <div class="input-group mb-3">
                      <span class="input-group-text text-center" style="width: 115px">学习率</span>
                      <input type="text" class="form-control" id="oa1" placeholder="" aria-label=""
                             aria-describedby="basic-addon1">
                    </div>
                    <div class="input-group">
                      <span class="input-group-text text-center" style="width: 115px">隐藏层节点数</span>
                      <input type="text" class="form-control" id="oa2" placeholder="" aria-label=""
                             aria-describedby="basic-addon1">
                    </div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="h4 text-center">随机森林 <br>（RF）</div>
                  <div class="col border border-primary rounded-2 p-2">
                    <div class="input-group mb-3">
                      <span class="input-group-text text-center" style="width: 115px">决策树数目</span>
                      <input type="text" class="form-control" id="oa3" placeholder="" aria-label=""
                             aria-describedby="basic-addon1">
                    </div>
                    <div class="input-group">
                      <span class="input-group-text text-center" style="width: 115px">最小子叶数</span>
                      <input type="text" class="form-control" id="oa4" placeholder="" aria-label=""
                             aria-describedby="basic-addon1">
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6">
                  <div class="h4 text-center">支持向量机回归 <br>（SVR）</div>
                  <div class="col border border-primary rounded-2 p-2">
                    <div class="input-group mb-3">
                      <span class="input-group-text text-center" style="width: 115px">惩罚因子</span>
                      <input type="text" class="form-control" id="oa5" placeholder="" aria-label=""
                             aria-describedby="basic-addon1">
                    </div>
                    <div class="input-group mb-3">
                      <span class="input-group-text text-center" style="width: 115px">核函数类型</span>
                      <input type="text" class="form-control" id="oa6" placeholder="" aria-label=""
                             aria-describedby="basic-addon1">
                    </div>
                    <div class="input-group">
                      <span class="input-group-text text-center" style="width: 115px">核函数参数</span>
                      <input type="text" class="form-control" id="oa7" placeholder="" aria-label=""
                             aria-describedby="basic-addon1">
                    </div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="h4 text-center">长短时记忆网络 <br>（LSTM）</div>
                  <div class="col border border-primary rounded-2 p-2">
                    <div class="input-group mb-3">
                      <span class="input-group-text text-center" style="width: 115px">初始学习率</span>
                      <input type="text" class="form-control" id="oa8" placeholder="" aria-label=""
                             aria-describedby="basic-addon1">
                    </div>
                    <div class="input-group mb-3">
                      <span class="input-group-text text-center" style="width: 115px">隐藏单元数</span>
                      <input type="text" class="form-control" id="oa9" placeholder="" aria-label=""
                             aria-describedby="basic-addon1">
                    </div>
                    <div class="input-group mb-3">
                      <span class="input-group-text text-center" style="width: 115px">最大训练轮次</span>
                      <input type="text" class="form-control" id="oa10" placeholder="" aria-label=""
                             aria-describedby="basic-addon1">
                    </div>
                    <div class="input-group">
                      <span class="input-group-text text-center" style="width: 115px">Dropout概率</span>
                      <input type="text" class="form-control" id="oa11" placeholder="" aria-label=""
                             aria-describedby="basic-addon1">
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col col-md-7">
            <div class="h3 text-center">优化算法效用检验与比对</div>
            <img id="lineImage" src="./images/blank.png" alt="" class="border border-primary rounded-2"
                 style="height: 535px">
          </div>


        </div>
      </div>


    </div>
    <hr>
    <br><br><br><br><br>
    <div id="model" class="section mb-3">
      <a href="#model" class="text-decoration-none">
        <div class="h2 text-center">数据填补模型对比</div>
      </a>

      <div class="row">
        <!-- 左边区域 -->
        <div class="col-md-5">
          <!-- 左上区域 -->
          <div>
            <div>
              <div class="h4 text-center">文件导入</div>
              <div class="input-group mb-3">
                <input type="file" class="form-control border border-primary" accept=".xlsx" placeholder="文件路径"
                       value="">
              </div>
            </div>
            <div>
              <div class="h4 text-center">缺失类型</div>
              <div class="btn-group mb-3 d-flex" role="group" aria-label="缺失类型">
                <input type="radio" class="btn-check" name="lack" id="btn-lack-1" autocomplete="off" checked>
                <label class="btn btn-outline-primary" for="btn-lack-1"> 完全随机降水数据缺失 <br>(MCR) </label>
                <input type="radio" class="btn-check" name="lack" id="btn-lack-2" autocomplete="off">
                <label class="btn btn-outline-primary" for="btn-lack-2">集中年份完全随机降水数据缺失 <br>(MCR) </label>
                <input type="radio" class="btn-check" name="lack" id="btn-lack-3" autocomplete="off">
                <label class="btn btn-outline-primary" for="btn-lack-3"> 随机降水数据缺失 <br>(MR) </label>
                <input type="radio" class="btn-check" name="lack" id="btn-lack-4" autocomplete="off">
                <label class="btn btn-outline-primary" for="btn-lack-4"> 非随机降水数据缺失 <br>(MNR)</label>
              </div>
            </div>
            <div class="h4 text-center">缺失率</div>
            <div class="btn-group mb-3 d-flex" role="group" aria-label="缺失率">
              <input type="radio" class="btn-check" name="btnradio2" id="btnradio2-1" autocomplete="off" checked>
              <label class="btn btn-outline-primary" for="btnradio2-1"> 1%</label>
              <input type="radio" class="btn-check" name="btnradio2" id="btnradio2-2" autocomplete="off">
              <label class="btn btn-outline-primary" for="btnradio2-2"> 5%</label>
              <input type="radio" class="btn-check" name="btnradio2" id="btnradio2-3" autocomplete="off">
              <label class="btn btn-outline-primary" for="btnradio2-3">10%</label>
              <input type="radio" class="btn-check" name="btnradio2" id="btnradio2-4" autocomplete="off">
              <label class="btn btn-outline-primary" for="btnradio2-4">20%</label>
              <input type="radio" class="btn-check" name="btnradio2" id="btnradio2-5" autocomplete="off">
              <label class="btn btn-outline-primary" for="btnradio2-5">30%</label>
            </div>
            <div>
              <div class="h4 text-center">功能</div>
              <div class="d-flex justify-content-around mb-3 border border-primary rounded-2 py-1">
                <button class="btn btn-primary" id="evaluateButton">指标评估计算</button>
                <button class="btn btn-primary" id="violinButton">稳定性评价</button>
                <button class="btn btn-primary" id="pointButton">与实际值比较</button>
                <button class="btn btn-primary" id="copyButton">复制表格</button>
              </div>
            </div>
          </div>
          <!-- 左下区域 -->
          <div class="">

            <div class="h4 text-center position-relative">计算结果
            </div>
            <div class=" border border-primary" style="height: 156px">
              <table class="w-100 table dataTable" id="resultTable">
                <tr class="text-center col">
                  <th class="col-md-2">评估指标</th>
                  <th class="col-md-2">BPNN</th>
                  <th class="col-md-2">RF</th>
                  <th class="col-md-2">SVR</th>
                  <th class="col-md-2">LSTM</th>
                  <th class="col-md-2">MLR</th>
                </tr>
                <tr class="">
                  <td>
                    <div class="small" style="height: 22px">皮尔逊相关系数(PCC)</div>
                  </td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                </tr>
                <tr class="">
                  <td>
                    <div class="small" style="height: 22px">纳什效率系数(NSE)</div>
                  </td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                </tr>
                <tr class="">
                  <td>
                    <div style="width: 150px;height: 22px" class="small">百分比偏差(Pbias-%)</div>
                  </td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                </tr>
              </table>
            </div>
          </div>
        </div>
        <!-- 右边区域 -->
        <div class="col-md-7">
          <div class="h3 text-center">评价结果图像</div>
          <img src="./images/blank.png" alt="" class="border-primary border rounded-2"
               id="violinAndPoint" style="height: 544px">
        </div>
      </div>
      <div class="d-flex justify-content-around mt-3 border border-primary p-2 align-items-center">
        <div style="width: 37%">
          <img src="./svgs/PCC.svg" alt="...">
        </div>
        <div class="h2">,</div>
        <div style="width: 27%">
          <img src="./svgs/NSE.svg" alt="...">
        </div>
        <div class="h2">,</div>
        <div style="width: 30%">
          <img src="./svgs/Pbias.svg" alt="...">
        </div>
      </div>
      <hr>
    </div>
    <br><br><br><br><br>
    <div id="fill" class="section mb-3">
      <a href="#fill" class="text-decoration-none">
        <div class="h2 text-center">新型填补方法应用</div>
      </a>
      <div class="row">
        <div class="col-md-6">
          <div>
            <div class="mb-3">
              <div class="h4 text-center">流域选择</div>
              <div class="dropdown mb-2">
                <button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton"
                        data-bs-toggle="dropdown" aria-expanded="false">
                  <text>选择流域</text>
                </button>
                <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton" id="basin">
                  <li><a class="dropdown-item">椒江流域</a></li>
                  <li><a class="dropdown-item">钱塘江流域</a></li>
                  <li><a class="dropdown-item">瓯江流域</a></li>
                  <li><a class="dropdown-item">甬江流域</a></li>
                  <li><a class="dropdown-item">苕溪流域</a></li>
                  <li><a class="dropdown-item">运河流域</a></li>
                  <li><a class="dropdown-item">飞云江流域</a></li>
                  <li><a class="dropdown-item">鳌江流域</a></li>
                </ul>
              </div>
              <img src="./images/blank.png" alt="示例图片" class="img-fluid border border-primary rounded-2"
                   id="basinImage">
            </div>

            <div class="h4 text-center">文件导入</div>
            <div class="input-group mb-3">
              <input type="file" id="tableInput" accept=".xlsx" class="form-control border border-primary">
            </div>
            <div>
              <div>
                <div class="h4 text-center">功能</div>
                <div class="col d-flex justify-content-around border border-primary rounded-2 py-1">
                  <button class="btn btn-primary col-md-3" id="analysisButton">数据分析</button>
                  <button class="btn btn-primary col-md-3" id="tableFill">数据填补</button>
                  <button class="btn btn-primary col-md-3" id="saveButton">保存表格</button>
                  <input type="file" id="saveInput" accept=".xlsx" style="display: none;">
                </div>
              </div>
            </div>
            <div class="mb-3">
              <div class="h4 text-center mt-3">数据分析结果</div>
              <div class="row d-flex border border-primary rounded-2 mx-1 pt-2">
                <div class="col-md-4">
                  <label class="form-label">缺失率
                    <input type="text" class="form-control" id="analysisInput1"></label>
                </div>
                <div class="col-md-4">
                  <label class="form-label">缺失量
                    <input type="text" class="form-control" id="analysisInput2"></label>
                </div>
                <div class="col-md-4">
                  <label class="form-label">填补率
                    <input type="text" class="form-control" id="analysisInput3"></label>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-6 border overflow-auto" style="max-height: 800px">
          <div class="h4 text-center mt-2">数据表格</div>
          <table id="dataTable" class="w-100 border border-primary rounded-2 table-striped dataTable bg-white"></table>
        </div>
      </div>


    </div>
    <hr>
    <div id="foot" class="section mb-3">
      <footer class="footer bg-info-subtle py-5">
        <div class="container">
          <div class="col">
            <div class="row">
              <!-- 版权信息和备案号区域 -->
              <div class="col-md-6">
                <p><strong>版权说明</strong></p>
                <ul>
                  <li>京ICP备11019815号-4</li>
                  <li>京ICP证040431号</li>
                  <li>网络出版服务许可证网出证(京)字第976号出版物经营许可证</li>
                  <li>京公网安备11210806020269号</li>
                  <li>互联网水文信息服务许可证：京（2022）0000115</li>
                  <li>气象预报社有限公司 KDN</li>
                  <li>平台基础技术由 KBASE 11.0 提供</li>
                </ul>
              </div>

              <!--链接区域 -->
              <div class="col-md-6">
                <h5>快速访问</h5>
                <ul>
                  <li><a href="https://www.zjweu.edu.cn/" class="">浙江水利水电学院</a></li>
                  <li><a href="https://github.com/" class="">Github</a></li>
                  <li><a href="https://blog.csdn.net/zhan12445?type=blog" class="">CSDN-zhan114514</a></li>
                  <li><a href="https://www.cnki.net/" class="">中国知网</a></li>
                </ul>
              </div>
            </div>
            <hr>
            <div class="d-flex justify-content-between">
              <p>&copy; 2024 版权所有 邱赫、刘高瞻、陈逸静、肖炅灵</p>
              <div class="d-flex justify-content-between w-25">
                <span icon="wechat" wh="32px"></span>
                <span icon="qq" wh="32px"></span>
                <span icon="facebook" wh="32px"></span>
                <span icon="meta" wh="32px"></span>
                <span icon="weibo" wh="32px"></span>
              </div>

            </div>
            <div style="height: 100px"></div>
          </div>
        </div>
      </footer>


    </div>


  </div>
</div>
<!--nav item 变换-->
<script>
  const navLinks = document.querySelectorAll('.nav-link');
  const sections = document.querySelectorAll('.section');
  console.log(sections)
  console.log(navLinks)

  window.addEventListener('scroll', () => {
    let current = '';
    sections.forEach(section => {
      const sectionTop = section.offsetTop;
      const sectionHeight = section.clientHeight;
      if (scrollY >= sectionTop - sectionHeight / 3) {
        current = section.getAttribute('id');
      }
    });

    navLinks.forEach(link => {
      link.classList.remove('active');
      if (link.getAttribute('href').substring(1) === current) {
        link.classList.add('active');
      }
    });
  });
</script>
<!--下拉框选项改变框内容-->
<script>
  const dropdownMenuButton = document.getElementById('dropdownMenuButton');
  const dropdownItems = document.querySelectorAll('.dropdown-item');

  dropdownItems.forEach(item => {
    item.addEventListener('click', function (e) {
      e.preventDefault();
      dropdownMenuButton.textContent = this.textContent;
    });
  });
</script>
<!--数据分析按钮-->
<script>
  const analysisInput1 = document.getElementById('analysisInput1');
  const analysisInput2 = document.getElementById('analysisInput2');
  const analysisInput3 = document.getElementById('analysisInput3');
  const analysisButton = document.getElementById('analysisButton');
  analysisButton.addEventListener('click', function () {
    analysisInput1.value = "23.8%";
    analysisInput2.value = "194";
    analysisInput3.value = "100%";
  });
</script>
<script>

  const progressBarContainer = document.getElementById('progressBarContainer');
  const progressBar = document.getElementById('progressBar');
  const func1 = document.getElementById('vbtn-radio1');
  const func2 = document.getElementById('vbtn-radio2');
  const func3 = document.getElementById('vbtn-radio3');
  const calibrateButton = document.getElementById('calibrateButton');
  const deviationButton = document.getElementById('deviationButton');
  const funcImage = document.getElementById('funcImage');
  const lineImage = document.getElementById('lineImage');

  const oa1 = document.getElementById('oa1');
  const oa2 = document.getElementById('oa2');
  const oa3 = document.getElementById('oa3');
  const oa4 = document.getElementById('oa4');
  const oa5 = document.getElementById('oa5');
  const oa6 = document.getElementById('oa6');
  const oa7 = document.getElementById('oa7');
  const oa8 = document.getElementById('oa8');
  const oa9 = document.getElementById('oa9');
  const oa10 = document.getElementById('oa10');
  const oa11 = document.getElementById('oa11');

  func1.addEventListener('click', () => {
    setTimeout(() => {
      funcImage.src = "./images/func3.png"
    }, 1000)
  })
  func2.addEventListener('click', () => {
    setTimeout(() => {
      funcImage.src = "./images/func2.png"
    }, 1000)
  })
  func3.addEventListener('click', () => {
    setTimeout(() => {
      funcImage.src = "./images/func1.png"
    }, 1000)
  })

  let line = 1;

  deviationButton.addEventListener('click', () => {
    lineImage.src = "./images/taile.png"
  });
  calibrateButton.addEventListener('click', () => {
    progressBarContainer.style.display = 'block';
    let width = 0;
    const interval = setInterval(() => {
      if (width >= 100) {
        clearInterval(interval);
        progressBar.style.width = `0`;
        progressBar.textContent = `0`;
        progressBarContainer.style.display = 'none';
        {
          // 功能实现
          if (line === 1) {
            line = 2;
            lineImage.src = "./images/line2.png"
          } else if (line === 2) {
            line = 3;
            lineImage.src = "./images/line3.png"
          } else if (line === 3) {
            line = 1;
            lineImage.src = "./images/line1.png"
          }
        }

        oa1.value = '0.0690';
        oa2.value = '5';
        oa3.value = '6';
        oa4.value = '2';
        oa5.value = '13792.03';
        oa6.value = '径向基';
        oa7.value = '0.0015';
        oa8.value = '54';
        oa9.value = '0.0073';
        oa10.value = '131';
        oa11.value = '0.108';

      } else {
        width += 2;
        progressBar.style.width = `${width}%`;
        progressBar.textContent = `${width}%`;
      }
    }, 60);
  });

  const fileInput = document.getElementById('tableInput');
  const tableFill = document.getElementById('tableFill');
  const dataTable = document.getElementById('dataTable');

  fileInput.addEventListener('change', (e) => {
    const file = e.target.files[0];
    console.log(file)
    if (file) {
      const reader = new FileReader();
      reader.onload = function (e) {
        const data = new Uint8Array(e.target.result);
        const workbook = XLSX.read(data, {type: 'array'});
        const firstSheetName = workbook.SheetNames[0];
        const worksheet = workbook.Sheets[firstSheetName];
        const dataArray = XLSX.utils.sheet_to_json(worksheet, {header: 1});
        dataTable.innerHTML = '';
        dataArray.forEach((rowData) => {
          const row = document.createElement('tr');
          rowData.forEach((cellData) => {
            const cell = document.createElement('td');
            cell.textContent = cellData;
            row.appendChild(cell);
          });
          dataTable.appendChild(row);
        });
      };
      reader.readAsArrayBuffer(file);
    }
  });

  const completeData = [
    [2019, 6, 1, 1],
    [2019, 6, 2, 1],
    [2019, 6, 3, 1],
    [2019, 6, 4, 1],
    [2019, 6, 5, 1],
    [2019, 6, 6, 18.6],
    [2019, 6, 7, 18.6],
    [2019, 6, 8, 19.1],
    [2019, 6, 9, 19.2],
    [2019, 6, 10, 18.7],
    [2019, 6, 11, 18.8],
    [2019, 6, 12, 18.9],
    [2019, 6, 13, 18.7],
    [2019, 6, 14, 18.3],
    [2019, 6, 15, 18.7],
    [2019, 6, 16, 18.3],
    [2019, 6, 17, 18.3],
    [2019, 6, 18, 16.4],
    [2019, 6, 19, 0.4],
    [2019, 6, 20, 1.06],
    [2019, 6, 21, 18.8],
    [2019, 6, 22, 18.7],
    [2019, 6, 23, 18.7],
    [2019, 6, 24, 1],
    [2019, 6, 25, 18.4],
    [2019, 6, 26, 13.8],
    [2019, 6, 27, 18.2],
    [2019, 6, 28, 17.9],
    [2019, 6, 29, 17.9],
    [2019, 6, 30, 18],
    [2019, 7, 1, 20.6],
    [2019, 7, 2, 23.1],
    [2019, 7, 3, 22.8],
    [2019, 7, 4, 30.4],
    [2019, 7, 5, 35.3],
    [2019, 7, 6, 44.3],
    [2019, 7, 7, 69.6],
    [2019, 7, 8, 60.7],
    [2019, 7, 9, 48.8],
    [2019, 7, 10, 57.6],
    [2019, 7, 11, 56.5],
    [2019, 7, 12, 63.9],
    [2019, 7, 13, 47.9],
    [2019, 7, 14, 35.3],
    [2019, 7, 15, 33.2],
    [2019, 7, 16, 36.4],
    [2019, 7, 17, 34.2],
    [2019, 7, 18, 36.1],
    [2019, 7, 19, 34.9],
    [2019, 7, 20, 30.7],
    [2019, 7, 21, 31],
    [2019, 7, 22, 30.9],
    [2019, 7, 23, 24.1],
    [2019, 7, 24, 24.4],
    [2019, 7, 25, 19.9],
    [2019, 7, 26, 11.5],
    [2019, 7, 27, 18.8],
    [2019, 7, 28, 18.9],
    [2019, 7, 29, 1],
    [2019, 7, 30, 1],
    [2019, 7, 31, 18.7],
    [2019, 8, 1, 19],
    [2019, 8, 2, 18.7],
    [2019, 8, 3, 18],
    [2019, 8, 4, 18.2],
    [2019, 8, 5, 17.7],
    [2019, 8, 6, 17.9],
    [2019, 8, 7, 18.4],
    [2019, 8, 8, 30.6],
    [2019, 8, 9, 30.4],
    [2019, 8, 10, 29.9],
    [2019, 8, 11, 28.8],
    [2019, 8, 12, 28.7],
    [2019, 8, 13, 31.9],
    [2019, 8, 14, 34.9],
    [2019, 8, 15, 34.8],
    [2019, 8, 16, 35.1],
    [2019, 8, 17, 35.2],
    [2019, 8, 18, 35.6],
    [2019, 8, 19, 32.4],
    [2019, 8, 20, 30.5],
    [2019, 8, 21, 31],
    [2019, 8, 22, 31.1],
    [2019, 8, 23, 28.7],
    [2019, 8, 24, 19],
    [2019, 8, 25, 18.6],
    [2019, 8, 26, 18.8],
    [2019, 8, 27, 15.2],
    [2019, 8, 28, 9.14],
    [2019, 8, 29, 10.2],
    [2019, 8, 30, 10.2],
    [2019, 8, 31, 10.1],
    [2019, 9, 1, 9.49],
    [2019, 9, 2, 17.4],
    [2019, 9, 3, 26.8],
    [2019, 9, 4, 36.3],
    [2019, 9, 5, 36.5],
    [2019, 9, 6, 33.8],
    [2019, 9, 7, 31.1],
    [2019, 9, 8, 31.4],
    [2019, 9, 9, 31.2],
    [2019, 9, 10, 18.8],
    [2019, 9, 11, 18.5],
    [2019, 9, 12, 18.5],
    [2019, 9, 13, 18.4],
    [2019, 9, 14, 16.8],
    [2019, 9, 15, 17.8],
    [2019, 9, 16, 17.7],
    [2019, 9, 17, 1],
    [2019, 9, 18, 1],
    [2019, 9, 19, 1],
    [2019, 9, 20, 1],
    [2019, 9, 21, 1],
    [2019, 9, 22, 1],
    [2019, 9, 23, 1],
    [2019, 9, 24, 1],
    [2019, 9, 25, 1],
    [2019, 9, 26, 8.23],
    [2019, 9, 27, 1],
    [2019, 9, 28, 1],
    [2019, 9, 29, 1],
    [2019, 9, 30, 16.5],
    [2019, 10, 1, 18.6],
    [2019, 10, 2, 8.75],
    [2019, 10, 3, 9.08],
    [2019, 10, 4, 9.99],
    [2019, 10, 5, 10.5],
    [2019, 10, 6, 10.6],
    [2019, 10, 7, 1],
    [2019, 10, 8, 1],
    [2019, 10, 9, 1],
    [2019, 10, 10, 1],
    [2019, 10, 11, 1],
    [2019, 10, 12, 1],
    [2019, 10, 13, 1],
    [2019, 10, 14, 1],
    [2019, 10, 15, 1],
    [2019, 10, 16, 1],
    [2019, 10, 17, 1],
    [2019, 10, 18, 1],
    [2019, 10, 19, 1],
    [2019, 10, 20, 1],
    [2019, 10, 21, 1],
    [2019, 10, 22, 8.38],
    [2019, 10, 23, 1],
    [2019, 10, 24, 5.27],
    [2019, 10, 25, 11.9],
    [2019, 10, 26, 1],
    [2019, 10, 27, 1],
    [2019, 10, 28, 1],
    [2019, 10, 29, 1],
    [2019, 10, 30, 1],
    [2019, 10, 31, 1],
    [2019, 11, 1, 1],
    [2019, 11, 2, 1],
    [2019, 11, 3, 1],
    [2019, 11, 4, 1],
    [2019, 11, 5, 1],
    [2019, 11, 6, 1],
    [2019, 11, 7, 1],
    [2019, 11, 8, 1],
    [2019, 11, 9, 1],
    [2019, 11, 10, 12.1],
    [2019, 11, 11, 1],
    [2019, 11, 12, 1],
    [2019, 11, 13, 1],
    [2019, 11, 14, 1],
    [2019, 11, 15, 2.18],
    [2019, 11, 16, 1],
    [2019, 11, 17, 1],
    [2019, 11, 18, 1],
    [2019, 11, 19, 1],
    [2019, 11, 20, 1],
    [2019, 11, 21, 1],
    [2019, 11, 22, 1],
    [2019, 11, 23, 1],
    [2019, 11, 24, 1],
    [2019, 11, 25, 1],
    [2019, 11, 26, 4.41],
    [2019, 11, 27, 1],
    [2019, 11, 28, 1],
    [2019, 11, 29, 1],
    [2019, 11, 30, 1],
    [2019, 12, 1, 1],
    [2019, 12, 2, 1],
    [2019, 12, 3, 1],
    [2019, 12, 4, 1],
    [2019, 12, 5, 1],
    [2019, 12, 6, 1],
    [2019, 12, 7, 1],
    [2019, 12, 8, 1],
    [2019, 12, 9, 1],
    [2019, 12, 10, 1],
    [2019, 12, 11, 1],
    [2019, 12, 12, 9.57],
    [2019, 12, 13, 1],
    [2019, 12, 14, 1],
    [2019, 12, 15, 1],
    [2019, 12, 16, 1],
    [2019, 12, 17, 1],
    [2019, 12, 18, 1],
    [2019, 12, 19, 1],
    [2019, 12, 20, 7.54],
    [2019, 12, 21, 6.62],
    [2019, 12, 22, 1],
    [2019, 12, 23, 1],
    [2019, 12, 24, 1],
    [2019, 12, 25, 1],
    [2019, 12, 26, 1],
    [2019, 12, 27, 1],
    [2019, 12, 28, 1],
    [2019, 12, 29, 1],
    [2019, 12, 30, 1],
    [2019, 12, 31, 1],

  ]
  tableFill.addEventListener('click', () => {
    progressBarContainer.style.display = 'block';
    let width = 0;
    const interval = setInterval(() => {
      if (width >= 100) {
        clearInterval(interval);
        progressBar.style.width = `0`;
        progressBar.textContent = `0`;
        progressBarContainer.style.display = 'none';
        {

          dataTable.innerHTML = '';
          completeData.forEach((rowData) => {
            const row = document.createElement('tr');
            rowData.forEach((cellData) => {
              const cell = document.createElement('td');
              cell.textContent = cellData;
              row.appendChild(cell);
            });
            dataTable.appendChild(row);


          });
        }
      } else {
        width += 2;
        progressBar.style.width = `${width}%`;
        progressBar.textContent = `${width}%`;
      }
    }, 100);
  });
</script>
<!--指标评价计算按钮-->
<script>

  const evalue = ["纳什效率系数(NSE)", "百分比偏差(Pbias-%)", "皮尔逊相关系数(PCC)"]
  const data1 = [
    ["评估指标", "BPNN", "RF", "SVR", "LSTM", "MLR"],
    ["皮尔逊相关系数(PCC)", 0.9205, 0.9296, 0.8925, 0.9373, 0.9472],
    ["纳什效率系数(NSE)", 0.8837, 0.8924, 0.8568, 0.8998, 0.9093],
    ["百分比偏差(Pbias-%)", -7.4057, -7.7397, -11.4293, -10.3531, -5.6525],]

  const data2 = [
    ["评估指标", "BPNN", "RF", "SVR", "LSTM", "MLR"],
    ["皮尔逊相关系数(PCC)", 0.8906, 0.8883, 0.8648, 0.9150, 0.9194,],
    ["纳什效率系数(NSE)", 0.8550, 0.8528, 0.8302, 0.8784, 0.8826,],
    ["百分比偏差(Pbias-%)", 11.4680, 12.8801, 12.5511, 12.4695, 11.1567,],]

  const data3 = [
    ["评估指标", "BPNN", "RF", "SVR", "LSTM", "MLR"],
    ["皮尔逊相关系数(PCC)", 0.8466, 0.8629, 0.8449, 0.8607, 0.9329],
    ["纳什效率系数(NSE)", 0.8127, 0.8284, 0.8111, 0.8263, 0.8956],
    ["百分比偏差(Pbias-%)", -18.2202, -24.1533, -24.5757, -20.2649, -12.3834],]

  const evaluateButton = document.getElementById('evaluateButton');
  const resultTable = document.getElementById('resultTable');
  const violinButton = document.getElementById('violinButton');
  const pointButton = document.getElementById('pointButton');
  const violinAndPoint = document.getElementById('violinAndPoint');

  let dataN = 1
  evaluateButton.addEventListener('click', () => {
    if (dataN === 1) {
      dataN = 2;
      data = data1;
    } else if (dataN === 2) {
      dataN = 3;
      data = data2;
    } else if (dataN === 3) {
      dataN = 1;
      data = data3;
    }
    setTimeout(() => {
      const rows = resultTable.rows;
      for (let i = 0; i < rows.length; i++) {
        const cells = rows[i].cells;
        for (let j = 0; j < cells.length; j++) {
          cells[j].textContent = data[i][j];
          if (evalue.includes(data[i][j])) {
            cells[j].style.minWidth = "150px";
            cells[j].classList.add("small")
          }
        }
      }
    }, 1000);
  });
  let violin = 1;
  violinButton.addEventListener('click', () => {
    if (violin === 1) {
      violin = 3;
      violinAndPoint.src = "./images/violin1.jpg";
    } else if (violin === 3) {
      violin = 5;
      violinAndPoint.src = "./images/violin3.jpg";
    } else if (violin === 5) {
      violin = 1;
      violinAndPoint.src = "./images/violin5.jpg";
    }
  });
  let point = 1
  pointButton.addEventListener('click', () => {
    if (point === 1) {
      point = 3;
      violinAndPoint.src = "./images/point1.jpg";
    } else if (point === 3) {
      point = 5;
      violinAndPoint.src = "./images/point3.jpg";
    } else if (point === 5) {
      point = 1;
      violinAndPoint.src = "./images/point5.jpg";
    }
  });
</script>
<!--保存按钮-->
<script>
  const saveButton = document.getElementById('saveButton');
  const saveInput = document.getElementById('saveInput');
  saveButton.addEventListener('click', () => {
    saveInput.click();
    saveInput.onchange = function () {
      alert("保存成功")
    }
  });
</script>
<!--流域图展示-->
<script>
  const basin = document.getElementById('basin');
  const basinImage = document.getElementById('basinImage');
  basin.addEventListener('click', function () {
    basinImage.src = "./images/jiaojiang.jpg";
  });
</script>
<!--<script src="/lib/study.js"></script>-->
<script src="./lib/bootstrap.bundle.min.js"></script>
<script src="lib/xlsx_0.18.5.js"></script>
<script>
  const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
  const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))
</script>
</body>
</html>