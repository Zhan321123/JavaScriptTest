<!doctype html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/jointjs/3.6.3/joint.css"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.21/lodash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.4.1/backbone-min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jointjs/3.6.3/joint.min.js"></script>
    <style>
        #paper {
            width: 100%;
            height: 600px;
            border: 1px solid #ccc;
        }
    </style>
</head>
<body>
<h1>JointJS 流程图示例</h1>
<div id="paper"></div>

<script>        // 创建一个图
var graph = new joint.dia.Graph();

// 创建一个画布
var paper = new joint.dia.Paper({
    el: document.getElementById('paper'),
    model: graph,
    width: 800,
    height: 600,
    gridSize: 1
});

// 创建节点
var start = new joint.shapes.standard.Rectangle({
    position: {x: 50, y: 50},
    size: {width: 100, height: 50},
    attrs: {
        body: {
            fill: '#f0f0f0',
            stroke: '#000',
            strokeWidth: 2
        },
        label: {
            text: '开始',
            fill: '#000'
        }
    }
});

var process = new joint.shapes.standard.Rectangle({
    position: {x: 250, y: 50},
    size: {width: 100, height: 50},
    attrs: {
        body: {
            fill: '#f0f0f0',
            stroke: '#000',
            strokeWidth: 2
        },
        label: {
            text: '处理',
            fill: '#000'
        }
    }
});

var end = new joint.shapes.standard.Rectangle({
    position: {x: 450, y: 50},
    size: {width: 100, height: 50},
    attrs: {
        body: {
            fill: '#f0f0f0',
            stroke: '#000',
            strokeWidth: 2
        },
        label: {
            text: '结束',
            fill: '#000'
        }
    }
});

// 添加节点到图中
graph.addCell([start, process, end]);

// 创建连接线
var link1 = new joint.shapes.standard.Link({
    source: {id: start.id},
    target: {id: process.id},
    attrs: {
        line: {
            stroke: '#000',
            strokeWidth: 2
        }
    }
});

var link2 = new joint.shapes.standard.Link({
    source: {id: process.id},
    target: {id: end.id},
    attrs: {
        line: {
            stroke: '#000',
            strokeWidth: 2
        }
    }
});

// 添加连接线到图中
graph.addCell([link1, link2]);
</script>
</body>
</html>